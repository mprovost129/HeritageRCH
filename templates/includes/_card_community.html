{# expects: obj = Community #}
<div class="card h-100 shadow-sm">
  <div class="ratio ratio-4x3">
    {% with photo=obj.photos.all.0 %}
      {% if photo %}
        <img src="{{ photo.image.url }}" alt="{{ photo.caption }}" class="img-fluid"
             style="object-fit: cover; width: 100%; height: 100%;">
      {% else %}
        <div class="d-flex align-items-center justify-content-center bg-light text-muted small">
          No community photo yet
        </div>
      {% endif %}
    {% endwith %}
  </div>

  <div class="card-body d-flex flex-column">
    <div class="d-flex justify-content-between align-items-start mb-1">
      <h3 class="h5 card-title mb-0">{{ obj.name }}</h3>
      {% if obj.status %}
        <span class="badge badge-heritage ms-2">
          {{ obj.get_status_display }}
        </span>
      {% endif %}
    </div>
    <p class="text-muted mb-2">
      {{ obj.city }}{% if obj.state %}, {{ obj.state }}{% endif %}
    </p>
    {% if obj.tagline %}
      <p class="small mb-3">{{ obj.tagline }}</p>
    {% else %}
      <p class="small mb-3 text-muted">
        New homes in {{ obj.city }}{% if obj.state %}, {{ obj.state }}{% endif %}.
      </p>
    {% endif %}
    <div class="mt-auto">
      <a href="{{ obj.get_absolute_url }}" class="btn btn-outline-primary btn-sm w-100">
        View Community
      </a>
    </div>
  </div>
</div>