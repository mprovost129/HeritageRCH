{% extends 'base.html' %}
{% load static %}

{% block title %}Heritage Realty & Custom Homes{% endblock %}
{% block meta_description %}
New construction, available homes, and custom home options with Heritage Realty & Custom Homes. Explore communities, floor plans, and move-in ready homes.
{% endblock %}

{% block content %}

  <div class="hero-full">
    {% if site_settings and site_settings.hero_background %}
      <div class="hero-bg"
           style="background-image: url('{{ site_settings.hero_background.url }}');">
      </div>
    {% else %}
      <div class="hero-bg"
           style="background-image: url('{% static 'img/home-hero.jpg' %}');">
      </div>
    {% endif %}

    <div class="hero-content text-center text-white">
      <h1 class="fw-bold display-4 mb-3">
        {{ site_settings.hero_headline|default:"Building communities one home at a time!" }}
      </h1>

      <p class="lead mb-4">
        <strong>{{ site_settings.hero_subheadline|default:"Your trusted partner for new homes, communities, and custom builds." }}</strong>
      </p>

      <div class="hero-buttons d-flex justify-content-center gap-3">
        <a class="btn btn-lg btn-primary" href="/communities/">Communities</a>
        <a class="btn btn-lg btn-outline-light" href="/homes/">Available Homes</a>
        <a class="btn btn-lg btn-outline-light" href="/plans/">Floor Plans</a>
      </div>
    </div>
  </div>

{# Featured sections below hero #}
{% if featured_communities %}
  <section class="mb-5">
    <h2 class="h4 mb-3">Featured Communities</h2>
    <div class="row row-cols-1 row-cols-md-2 row-cols-lg-3 g-3">
      {% for obj in featured_communities %}
        <div class="col">
          {% include 'includes/_card_community.html' with obj=obj %}
        </div>
      {% endfor %}
    </div>
  </section>
{% endif %}

{% if featured_plans %}
  <section class="mb-5">
    <h2 class="h4 mb-3">Popular Floor Plans</h2>
    <div class="row row-cols-1 row-cols-md-2 row-cols-lg-3 g-3">
      {% for obj in featured_plans %}
        <div class="col">
          {% include 'includes/_card_plan.html' with obj=obj %}
        </div>
      {% endfor %}
    </div>
  </section>
{% endif %}

{% if featured_homes %}
  <section class="mb-4">
    <h2 class="h4 mb-3">Available Now</h2>
    <div class="row row-cols-1 row-cols-md-2 row-cols-lg-3 g-3">
      {% for obj in featured_homes %}
        <div class="col">
          {% include 'includes/_card_home.html' with obj=obj %}
        </div>
      {% endfor %}
    </div>
  </section>
{% endif %}

{% include 'includes/_cta_strip.html' %}

{% endblock %}
